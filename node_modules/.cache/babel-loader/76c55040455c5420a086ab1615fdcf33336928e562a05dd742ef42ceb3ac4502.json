{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\truffleproj\\\\healthdapp\\\\trialhealth\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n/*\nimport React, { useState } from \"react\";\nimport Web3 from \"web3\";\nimport MedicalRecordContract from \"../src/contractscopy/MedicalRecord.json\";\n\nconst web3 = new Web3(Web3.givenProvider);\nconst contractAddress = \"YOUR_CONTRACT_ADDRESS_HERE\";\n\nfunction App() {\n  const [name, setName] = useState(\"\");\n  const [diagnosis, setDiagnosis] = useState(\"\");\n  const [treatment, setTreatment] = useState(\"\");\n  const [recordId, setRecordId] = useState(0);\n  const [record, setRecord] = useState({});\n\n  async function createRecord() {\n    const contract = new web3.eth.Contract(MedicalRecordContract.abi, contractAddress);\n    const accounts = await web3.eth.requestAccounts();\n    const account = accounts[0];\n    await contract.methods.createRecord(name, diagnosis, treatment).send({ from: account });\n  }\n\n  async function getRecord() {\n    const contract = new web3.eth.Contract(MedicalRecordContract.abi, contractAddress);\n    const result = await contract.methods.getRecord(recordId).call();\n    setRecord({ name: result[0], diagnosis: result[1], treatment: result[2], date: result[3] });\n  }\n\n  return (\n    <div>\n      <h1>Medical Records Management</h1>\n      <div>\n        <h2>Create Patient Record</h2>\n        <label>\n          Name:\n          <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} />\n        </label>\n        <br />\n        <label>\n          Diagnosis:\n          <input type=\"text\" value={diagnosis} onChange={(e) => setDiagnosis(e.target.value)} />\n        </label>\n        <br />\n        <label>\n          Treatment:\n          <input type=\"text\" value={treatment} onChange={(e) => setTreatment(e.target.value)} />\n        </label>\n        <br />\n        <button onClick={createRecord}>Create Record</button>\n      </div>\n      <div>\n        <h2>Get Patient Record</h2>\n        <label>\n          Record ID:\n          <input type=\"number\" value={recordId} onChange={(e) => setRecordId(parseInt(e.target.value))} />\n        </label>\n        <br />\n        <button onClick={getRecord}>Get Record</button>\n        <br />\n        <label>\n          Name: {record.name}\n        </label>\n        <br />\n        <label>\n          Diagnosis: {record.diagnosis}\n        </label>\n        <br />\n        <label>\n          Treatment: {record.treatment}\n        </label>\n        <br />\n        <label>\n          Date: {new Date(record.date * 1000).toLocaleDateString()}\n        </label>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n*/\n\n/*\nimport React, { useState } from 'react';\nimport Web3 from 'web3';\nimport DoctorAppointment from '../src/contractscopy/MedicalRecord.json';\n\nconst web3 = new Web3(Web3.givenProvider);\n\nfunction App() {\n  const [doctorAppointment, setDoctorAppointment] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [day, setDay] = useState(0);\n  const [appointmentTime, setAppointmentTime] = useState(0);\n\n  const connectMetaMask = async () => {\n    try {\n      await window.ethereum.request({ method: 'eth_requestAccounts' });\n      const networkId = await web3.eth.net.getId();\n      const deployedNetwork = DoctorAppointment.networks[networkId];\n      const instance = new web3.eth.Contract(\n        DoctorAppointment.abi,\n        deployedNetwork && deployedNetwork.address,\n      );\n      setDoctorAppointment(instance);\n      const accounts = await web3.eth.getAccounts();\n      setAccount(accounts[0]);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const bookAppointment = async () => {\n    const appointmentSlot = appointmentTime / doctorAppointment.appointmentDuration;\n    const isBooked = await doctorAppointment.methods.appointments(day, appointmentSlot).booked().call();\n    if (isBooked) {\n      alert('Appointment already booked');\n      return;\n    }\n    await doctorAppointment.methods.bookAppointment(day, appointmentTime).send({ from: account, value: doctorAppointment.appointmentFee });\n    alert('Appointment booked successfully');\n  };\n\n  const cancelAppointment = async () => {\n    const appointmentSlot = appointmentTime / doctorAppointment.appointmentDuration;\n    const appointment = await doctorAppointment.methods.appointments(day, appointmentSlot).call();\n    if (!appointment.booked) {\n      alert('No appointment found');\n      return;\n    }\n    if (appointment.patient.toLowerCase() !== account.toLowerCase()) {\n      alert('Only patient who booked the appointment can cancel it');\n      return;\n    }\n    if (appointment.paid) {\n      alert('Appointment fee already paid');\n      return;\n    }\n    await doctorAppointment.methods.cancelAppointment(day, appointmentTime).send({ from: account });\n    alert('Appointment canceled successfully');\n  };\n\n  return (\n    <div>\n      {account ? (\n        <div>\n          <p>Account: {account}</p>\n          <p>Appointment duration: {doctorAppointment?.appointmentDuration}</p>\n          <p>Appointment fee: {web3.utils.fromWei(doctorAppointment?.appointmentFee)} ETH</p>\n          <p>Max appointments per day: {doctorAppointment?.maxAppointmentsPerDay}</p>\n          <div>\n            <label>Day: </label>\n            <input type=\"number\" value={day} onChange={(e) => setDay(e.target.value)} />\n          </div>\n          <div>\n            <label>Appointment time: </label>\n            <input type=\"number\" value={appointmentTime} onChange={(e) => setAppointmentTime(e.target.value)} />\n          </div>\n          <button onClick={bookAppointment}>Book appointment</button>\n          <button onClick={cancelAppointment}>Cancel appointment</button>\n        </div>\n      ) : (\n        <button onClick={connectMetaMask}>Connect MetaMask</button>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n\n*/\n/*\nimport React, { useState } from 'react';\nimport Web3 from 'web3';\nimport DoctorAppointment from '../src/contractscopy/MedicalRecord.json';\n\nconst web3 = new Web3(Web3.givenProvider);\n\nfunction App() {\n  const [doctorAppointment, setDoctorAppointment] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [day, setDay] = useState(0);\n  const [appointmentTime, setAppointmentTime] = useState(0);\n\n  const connectMetaMask = async () => {\n    try {\n      await window.ethereum.request({ method: 'eth_requestAccounts' });\n      const networkId = await web3.eth.net.getId();\n      const deployedNetwork = DoctorAppointment.networks[networkId];\n      const instance = new web3.eth.Contract(\n        DoctorAppointment.abi,\n        deployedNetwork && deployedNetwork.address,\n      );\n      setDoctorAppointment(instance);\n      const accounts = await web3.eth.getAccounts();\n      setAccount(accounts[0]);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const bookAppointment = async () => {\n    const appointmentSlot = appointmentTime / doctorAppointment.appointmentDuration;\n    const isBooked = await doctorAppointment.methods.appointments(day, appointmentSlot).booked().call();\n    if (isBooked) {\n      alert('Appointment already booked');\n      return;\n    }\n    await doctorAppointment.methods.bookAppointment(day.toString(), appointmentTime.toString()).send({ from: account, value: doctorAppointment && doctorAppointment.appointmentFee && doctorAppointment.appointmentFee.toString() });\n    alert('Appointment booked successfully');\n  };\n\n  const cancelAppointment = async () => {\n    const appointmentSlot = appointmentTime / doctorAppointment.appointmentDuration;\n    const appointment = await doctorAppointment.methods.appointments(day, appointmentSlot).call();\n    if (!appointment.booked) {\n      alert('No appointment found');\n      return;\n    }\n    if (appointment.patient.toLowerCase() !== account.toLowerCase()) {\n      alert('Only patient who booked the appointment can cancel it');\n      return;\n    }\n    if (appointment.paid) {\n      alert('Appointment fee already paid');\n      return;\n    }\n    await doctorAppointment.methods.cancelAppointment(day.toString(), appointmentTime.toString()).send({ from: account });\n    alert('Appointment canceled successfully');\n  };\n\n  return (\n    <div>\n      {account ? (\n        <div>\n          <p>Account: {account}</p>\n          <p>Appointment duration: {doctorAppointment?.appointmentDuration}</p>\n          <p>Appointment fee: {web3.utils.fromWei(doctorAppointment && doctorAppointment.appointmentFee && doctorAppointment.appointmentFee.toString())} ETH</p>\n          <p>Max appointments per day: {doctorAppointment?.maxAppointmentsPerDay}</p>\n          <div>\n            <label>Day: </label>\n            <input type=\"number\" value={day} onChange={(e) => setDay(e.target.value)} />\n          </div>\n          <div>\n            <label>Appointment time: </label>\n            <input type=\"number\" value={appointmentTime} onChange={(e) => setAppointmentTime(e.target.value)} />\n          </div>\n          <button onClick={bookAppointment}>Book appointment</button>\n          <button onClick={cancelAppointment}>Cancel appointment</button>\n          </div>\n      ) : (\n        <button onClick={connectMetaMask}>Connect with MetaMask</button>\n      )}\n    </div>\n  );\n}\nexport default App;\n\n*/\n\n/*\nimport React, { useState } from \"react\";\nimport Web3 from \"web3\";\nimport BookingAppointement from \"./contracts/BookingAppointement.json\";\n\nconst web3 = new Web3(Web3.givenProvider);\n\nfunction App() {\n  const [bookingAppointement, setBookingAppointement] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [appointmentDate, setAppointmentDate] = useState(\"\");\n  const [checkOutDate, setCheckOutDate] = useState(\"\");\n  const [appointments, setAppointments] = useState([]);\n\n  const connectMetaMask = async () => {\n    try {\n      await window.ethereum.request({ method: \"eth_requestAccounts\" });\n      const networkId = await web3.eth.net.getId();\n      const deployedNetwork = BookingAppointement.networks[networkId];\n      const instance = new web3.eth.Contract(\n        BookingAppointement.abi,\n        deployedNetwork && deployedNetwork.address\n      );\n      setBookingAppointement(instance);\n      const accounts = await web3.eth.getAccounts();\n      setAccount(accounts[0]);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const createAppointments = async () => {\n    const totalPrice =\n      (checkOutDate - appointmentDate) *\n      web3.utils.toWei(\n        \"1\", // 1 ETH per appointment\n        \"ether\"\n      );\n    await bookingAppointement.methods\n      .createAppointments(appointmentDate, checkOutDate)\n      .send({ from: account, value: totalPrice });\n    alert(\"Appointments created successfully\");\n  };\n\n  const payAppointments = async (appointmentsId) => {\n    await bookingAppointement.methods.payAppointments(appointmentsId).send({\n      from: account,\n    });\n    alert(\"Appointments paid successfully\");\n  };\n\n  const loadAppointments = async () => {\n    const appointmentCount = await bookingAppointement.methods\n      .appointmentCount()\n      .call();\n    const loadedAppointments = [];\n    for (let i = 0; i < appointmentCount; i++) {\n      const appointment = await bookingAppointement.methods\n        .appointment(i)\n        .call();\n      loadedAppointments.push(appointment);\n    }\n    setAppointments(loadedAppointments);\n  };\n\n  return (\n    <div>\n      {account ? (\n        <div>\n          <p>Account: {account}</p>\n          <input\n            type=\"datetime-local\"\n            value={appointmentDate}\n            onChange={(e) => setAppointmentDate(e.target.valueAsNumber)}\n          />\n          <input\n            type=\"datetime-local\"\n            value={checkOutDate}\n            onChange={(e) => setCheckOutDate(e.target.valueAsNumber)}\n          />\n          <button onClick={createAppointments}>Create Appointments</button>\n          <button onClick={loadAppointments}>Load Appointments</button>\n          <ul>\n            {appointments.map((appointment, index) => (\n              <li key={index}>\n                {`Patient: ${appointment.patient}`}\n                {`Appointment Date: ${new Date(\n                  appointment.appointmentDate * 1000\n                ).toLocaleString()}`}\n                {`Check-out Date: ${new Date(\n                  appointment.checkOutDate * 1000\n                ).toLocaleString()}`}\n                {`Total Price: ${web3.utils.fromWei(\n                  appointment.totalPrice.toString(),\n                  \"ether\"\n                )} ETH`}\n                {appointment.paid ? (\n                  <span>Appointments Paid</span>\n                ) : (\n                  <button onClick={() => payAppointments(index)}>\n                    Pay Appointments\n                  </button>\n                )}\n              </li>\n            ))}\n          </ul>\n        </div>\n      ) : (\n        <button onClick={connectMetaMask}>Connect to MetaMask</button>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n*/\n/*\nimport React, { useState } from \"react\";\nimport Web3 from \"web3\";\nimport AppointmentBooking from \"../src/contractscopy/AppointmentBooking.json\";\n\nconst web3 = new Web3(Web3.givenProvider);\n\nfunction App() {\n  const [appointments, setAppointments] = useState([]);\n  const [appointmentDate, setAppointmentDate] = useState(\"\");\n\n  const bookAppointment = async () => {\n    const appointmentTimestamp = Date.parse(appointmentDate) / 1000;\n    await appointmentBooking.methods.bookAppointment(appointmentTimestamp).send({\n      from: account,\n      value: web3.utils.toWei(\"1\", \"ether\"),\n    });\n    alert(\"Appointment booked successfully\");\n  };\n\n  const loadAppointments = async () => {\n    const appointmentCount = await appointmentBooking.methods.appointmentCount().call();\n    const loadedAppointments = [];\n    for (let i = 0; i < appointmentCount; i++) {\n      const appointment = await appointmentBooking.methods.appointments(i).call();\n      loadedAppointments.push(appointment);\n    }\n    setAppointments(loadedAppointments);\n  };\n\n  const getAvailableAppointments = () => {\n    const availableAppointments = appointments.filter(\n      (appointment) => !appointment.booked && appointment.date > Date.now() / 1000\n    );\n    return availableAppointments;\n  };\n\n  return (\n    <div>\n      <input\n        type=\"datetime-local\"\n        value={appointmentDate}\n        onChange={(e) => setAppointmentDate(e.target.value)}\n      />\n      <button onClick={bookAppointment}>Book Appointment</button>\n      <button onClick={loadAppointments}>Load Appointments</button>\n      <ul>\n        {getAvailableAppointments().map((appointment, index) => (\n          <li key={index}>\n            {`Patient: ${appointment.patient}`}\n            {`Appointment Date: ${new Date(\n              appointment.date * 1000\n            ).toLocaleString()}`}\n            {appointment.booked ? (\n              <span>Appointment Booked</span>\n            ) : (\n              <span>Available</span>\n            )}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\n\nexport default App;*/\nimport React, { useState, useEffect } from 'react';\nimport Web3 from 'web3';\nimport Healthcare from './contracts/Healthcare.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [account, setAccount] = useState('');\n  const [patient, setPatient] = useState({});\n  const [medicalRecords, setMedicalRecords] = useState([]);\n  useEffect(() => {\n    loadBlockchainData();\n  }, []);\n  async function loadBlockchainData() {\n    const web3 = new Web3(Web3.givenProvider || 'http://localhost:7545');\n    const networkId = await web3.eth.net.getId();\n    const deployedNetwork = Healthcare.networks[networkId];\n    const contract = new web3.eth.Contract(Healthcare.abi, deployedNetwork && deployedNetwork.address);\n    const accounts = await web3.eth.getAccounts();\n    setAccount(accounts[0]);\n    const patient = await contract.methods.patients(accounts[0]).call();\n    setPatient(patient);\n    const medicalRecords = await contract.methods.getMedicalRecords(accounts[0]).call();\n    setMedicalRecords(medicalRecords);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Medical Records\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Patient Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 10\n      }, this), \" \", patient.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Age:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 10\n      }, this), \" \", patient.age]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Gender:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 10\n      }, this), \" \", patient.gender]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Medical Records\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: medicalRecords.map((record, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: record\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 475,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"vT2VMPAJWYD2vswsCJPXS22/qdM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Web3","Healthcare","jsxDEV","_jsxDEV","App","_s","account","setAccount","patient","setPatient","medicalRecords","setMedicalRecords","loadBlockchainData","web3","givenProvider","networkId","eth","net","getId","deployedNetwork","networks","contract","Contract","abi","address","accounts","getAccounts","methods","patients","call","getMedicalRecords","className","children","fileName","_jsxFileName","lineNumber","columnNumber","name","age","gender","map","record","index","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/truffleproj/healthdapp/trialhealth/src/App.js"],"sourcesContent":["/*\nimport React, { useState } from \"react\";\nimport Web3 from \"web3\";\nimport MedicalRecordContract from \"../src/contractscopy/MedicalRecord.json\";\n\nconst web3 = new Web3(Web3.givenProvider);\nconst contractAddress = \"YOUR_CONTRACT_ADDRESS_HERE\";\n\nfunction App() {\n  const [name, setName] = useState(\"\");\n  const [diagnosis, setDiagnosis] = useState(\"\");\n  const [treatment, setTreatment] = useState(\"\");\n  const [recordId, setRecordId] = useState(0);\n  const [record, setRecord] = useState({});\n\n  async function createRecord() {\n    const contract = new web3.eth.Contract(MedicalRecordContract.abi, contractAddress);\n    const accounts = await web3.eth.requestAccounts();\n    const account = accounts[0];\n    await contract.methods.createRecord(name, diagnosis, treatment).send({ from: account });\n  }\n\n  async function getRecord() {\n    const contract = new web3.eth.Contract(MedicalRecordContract.abi, contractAddress);\n    const result = await contract.methods.getRecord(recordId).call();\n    setRecord({ name: result[0], diagnosis: result[1], treatment: result[2], date: result[3] });\n  }\n\n  return (\n    <div>\n      <h1>Medical Records Management</h1>\n      <div>\n        <h2>Create Patient Record</h2>\n        <label>\n          Name:\n          <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} />\n        </label>\n        <br />\n        <label>\n          Diagnosis:\n          <input type=\"text\" value={diagnosis} onChange={(e) => setDiagnosis(e.target.value)} />\n        </label>\n        <br />\n        <label>\n          Treatment:\n          <input type=\"text\" value={treatment} onChange={(e) => setTreatment(e.target.value)} />\n        </label>\n        <br />\n        <button onClick={createRecord}>Create Record</button>\n      </div>\n      <div>\n        <h2>Get Patient Record</h2>\n        <label>\n          Record ID:\n          <input type=\"number\" value={recordId} onChange={(e) => setRecordId(parseInt(e.target.value))} />\n        </label>\n        <br />\n        <button onClick={getRecord}>Get Record</button>\n        <br />\n        <label>\n          Name: {record.name}\n        </label>\n        <br />\n        <label>\n          Diagnosis: {record.diagnosis}\n        </label>\n        <br />\n        <label>\n          Treatment: {record.treatment}\n        </label>\n        <br />\n        <label>\n          Date: {new Date(record.date * 1000).toLocaleDateString()}\n        </label>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n*/\n\n/*\nimport React, { useState } from 'react';\nimport Web3 from 'web3';\nimport DoctorAppointment from '../src/contractscopy/MedicalRecord.json';\n\nconst web3 = new Web3(Web3.givenProvider);\n\nfunction App() {\n  const [doctorAppointment, setDoctorAppointment] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [day, setDay] = useState(0);\n  const [appointmentTime, setAppointmentTime] = useState(0);\n\n  const connectMetaMask = async () => {\n    try {\n      await window.ethereum.request({ method: 'eth_requestAccounts' });\n      const networkId = await web3.eth.net.getId();\n      const deployedNetwork = DoctorAppointment.networks[networkId];\n      const instance = new web3.eth.Contract(\n        DoctorAppointment.abi,\n        deployedNetwork && deployedNetwork.address,\n      );\n      setDoctorAppointment(instance);\n      const accounts = await web3.eth.getAccounts();\n      setAccount(accounts[0]);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const bookAppointment = async () => {\n    const appointmentSlot = appointmentTime / doctorAppointment.appointmentDuration;\n    const isBooked = await doctorAppointment.methods.appointments(day, appointmentSlot).booked().call();\n    if (isBooked) {\n      alert('Appointment already booked');\n      return;\n    }\n    await doctorAppointment.methods.bookAppointment(day, appointmentTime).send({ from: account, value: doctorAppointment.appointmentFee });\n    alert('Appointment booked successfully');\n  };\n\n  const cancelAppointment = async () => {\n    const appointmentSlot = appointmentTime / doctorAppointment.appointmentDuration;\n    const appointment = await doctorAppointment.methods.appointments(day, appointmentSlot).call();\n    if (!appointment.booked) {\n      alert('No appointment found');\n      return;\n    }\n    if (appointment.patient.toLowerCase() !== account.toLowerCase()) {\n      alert('Only patient who booked the appointment can cancel it');\n      return;\n    }\n    if (appointment.paid) {\n      alert('Appointment fee already paid');\n      return;\n    }\n    await doctorAppointment.methods.cancelAppointment(day, appointmentTime).send({ from: account });\n    alert('Appointment canceled successfully');\n  };\n\n  return (\n    <div>\n      {account ? (\n        <div>\n          <p>Account: {account}</p>\n          <p>Appointment duration: {doctorAppointment?.appointmentDuration}</p>\n          <p>Appointment fee: {web3.utils.fromWei(doctorAppointment?.appointmentFee)} ETH</p>\n          <p>Max appointments per day: {doctorAppointment?.maxAppointmentsPerDay}</p>\n          <div>\n            <label>Day: </label>\n            <input type=\"number\" value={day} onChange={(e) => setDay(e.target.value)} />\n          </div>\n          <div>\n            <label>Appointment time: </label>\n            <input type=\"number\" value={appointmentTime} onChange={(e) => setAppointmentTime(e.target.value)} />\n          </div>\n          <button onClick={bookAppointment}>Book appointment</button>\n          <button onClick={cancelAppointment}>Cancel appointment</button>\n        </div>\n      ) : (\n        <button onClick={connectMetaMask}>Connect MetaMask</button>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n\n*/\n/*\nimport React, { useState } from 'react';\nimport Web3 from 'web3';\nimport DoctorAppointment from '../src/contractscopy/MedicalRecord.json';\n\nconst web3 = new Web3(Web3.givenProvider);\n\nfunction App() {\n  const [doctorAppointment, setDoctorAppointment] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [day, setDay] = useState(0);\n  const [appointmentTime, setAppointmentTime] = useState(0);\n\n  const connectMetaMask = async () => {\n    try {\n      await window.ethereum.request({ method: 'eth_requestAccounts' });\n      const networkId = await web3.eth.net.getId();\n      const deployedNetwork = DoctorAppointment.networks[networkId];\n      const instance = new web3.eth.Contract(\n        DoctorAppointment.abi,\n        deployedNetwork && deployedNetwork.address,\n      );\n      setDoctorAppointment(instance);\n      const accounts = await web3.eth.getAccounts();\n      setAccount(accounts[0]);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const bookAppointment = async () => {\n    const appointmentSlot = appointmentTime / doctorAppointment.appointmentDuration;\n    const isBooked = await doctorAppointment.methods.appointments(day, appointmentSlot).booked().call();\n    if (isBooked) {\n      alert('Appointment already booked');\n      return;\n    }\n    await doctorAppointment.methods.bookAppointment(day.toString(), appointmentTime.toString()).send({ from: account, value: doctorAppointment && doctorAppointment.appointmentFee && doctorAppointment.appointmentFee.toString() });\n    alert('Appointment booked successfully');\n  };\n\n  const cancelAppointment = async () => {\n    const appointmentSlot = appointmentTime / doctorAppointment.appointmentDuration;\n    const appointment = await doctorAppointment.methods.appointments(day, appointmentSlot).call();\n    if (!appointment.booked) {\n      alert('No appointment found');\n      return;\n    }\n    if (appointment.patient.toLowerCase() !== account.toLowerCase()) {\n      alert('Only patient who booked the appointment can cancel it');\n      return;\n    }\n    if (appointment.paid) {\n      alert('Appointment fee already paid');\n      return;\n    }\n    await doctorAppointment.methods.cancelAppointment(day.toString(), appointmentTime.toString()).send({ from: account });\n    alert('Appointment canceled successfully');\n  };\n\n  return (\n    <div>\n      {account ? (\n        <div>\n          <p>Account: {account}</p>\n          <p>Appointment duration: {doctorAppointment?.appointmentDuration}</p>\n          <p>Appointment fee: {web3.utils.fromWei(doctorAppointment && doctorAppointment.appointmentFee && doctorAppointment.appointmentFee.toString())} ETH</p>\n          <p>Max appointments per day: {doctorAppointment?.maxAppointmentsPerDay}</p>\n          <div>\n            <label>Day: </label>\n            <input type=\"number\" value={day} onChange={(e) => setDay(e.target.value)} />\n          </div>\n          <div>\n            <label>Appointment time: </label>\n            <input type=\"number\" value={appointmentTime} onChange={(e) => setAppointmentTime(e.target.value)} />\n          </div>\n          <button onClick={bookAppointment}>Book appointment</button>\n          <button onClick={cancelAppointment}>Cancel appointment</button>\n          </div>\n      ) : (\n        <button onClick={connectMetaMask}>Connect with MetaMask</button>\n      )}\n    </div>\n  );\n}\nexport default App;\n\n*/\n\n/*\nimport React, { useState } from \"react\";\nimport Web3 from \"web3\";\nimport BookingAppointement from \"./contracts/BookingAppointement.json\";\n\nconst web3 = new Web3(Web3.givenProvider);\n\nfunction App() {\n  const [bookingAppointement, setBookingAppointement] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [appointmentDate, setAppointmentDate] = useState(\"\");\n  const [checkOutDate, setCheckOutDate] = useState(\"\");\n  const [appointments, setAppointments] = useState([]);\n\n  const connectMetaMask = async () => {\n    try {\n      await window.ethereum.request({ method: \"eth_requestAccounts\" });\n      const networkId = await web3.eth.net.getId();\n      const deployedNetwork = BookingAppointement.networks[networkId];\n      const instance = new web3.eth.Contract(\n        BookingAppointement.abi,\n        deployedNetwork && deployedNetwork.address\n      );\n      setBookingAppointement(instance);\n      const accounts = await web3.eth.getAccounts();\n      setAccount(accounts[0]);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const createAppointments = async () => {\n    const totalPrice =\n      (checkOutDate - appointmentDate) *\n      web3.utils.toWei(\n        \"1\", // 1 ETH per appointment\n        \"ether\"\n      );\n    await bookingAppointement.methods\n      .createAppointments(appointmentDate, checkOutDate)\n      .send({ from: account, value: totalPrice });\n    alert(\"Appointments created successfully\");\n  };\n\n  const payAppointments = async (appointmentsId) => {\n    await bookingAppointement.methods.payAppointments(appointmentsId).send({\n      from: account,\n    });\n    alert(\"Appointments paid successfully\");\n  };\n\n  const loadAppointments = async () => {\n    const appointmentCount = await bookingAppointement.methods\n      .appointmentCount()\n      .call();\n    const loadedAppointments = [];\n    for (let i = 0; i < appointmentCount; i++) {\n      const appointment = await bookingAppointement.methods\n        .appointment(i)\n        .call();\n      loadedAppointments.push(appointment);\n    }\n    setAppointments(loadedAppointments);\n  };\n\n  return (\n    <div>\n      {account ? (\n        <div>\n          <p>Account: {account}</p>\n          <input\n            type=\"datetime-local\"\n            value={appointmentDate}\n            onChange={(e) => setAppointmentDate(e.target.valueAsNumber)}\n          />\n          <input\n            type=\"datetime-local\"\n            value={checkOutDate}\n            onChange={(e) => setCheckOutDate(e.target.valueAsNumber)}\n          />\n          <button onClick={createAppointments}>Create Appointments</button>\n          <button onClick={loadAppointments}>Load Appointments</button>\n          <ul>\n            {appointments.map((appointment, index) => (\n              <li key={index}>\n                {`Patient: ${appointment.patient}`}\n                {`Appointment Date: ${new Date(\n                  appointment.appointmentDate * 1000\n                ).toLocaleString()}`}\n                {`Check-out Date: ${new Date(\n                  appointment.checkOutDate * 1000\n                ).toLocaleString()}`}\n                {`Total Price: ${web3.utils.fromWei(\n                  appointment.totalPrice.toString(),\n                  \"ether\"\n                )} ETH`}\n                {appointment.paid ? (\n                  <span>Appointments Paid</span>\n                ) : (\n                  <button onClick={() => payAppointments(index)}>\n                    Pay Appointments\n                  </button>\n                )}\n              </li>\n            ))}\n          </ul>\n        </div>\n      ) : (\n        <button onClick={connectMetaMask}>Connect to MetaMask</button>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n*/\n/*\nimport React, { useState } from \"react\";\nimport Web3 from \"web3\";\nimport AppointmentBooking from \"../src/contractscopy/AppointmentBooking.json\";\n\nconst web3 = new Web3(Web3.givenProvider);\n\nfunction App() {\n  const [appointments, setAppointments] = useState([]);\n  const [appointmentDate, setAppointmentDate] = useState(\"\");\n\n  const bookAppointment = async () => {\n    const appointmentTimestamp = Date.parse(appointmentDate) / 1000;\n    await appointmentBooking.methods.bookAppointment(appointmentTimestamp).send({\n      from: account,\n      value: web3.utils.toWei(\"1\", \"ether\"),\n    });\n    alert(\"Appointment booked successfully\");\n  };\n\n  const loadAppointments = async () => {\n    const appointmentCount = await appointmentBooking.methods.appointmentCount().call();\n    const loadedAppointments = [];\n    for (let i = 0; i < appointmentCount; i++) {\n      const appointment = await appointmentBooking.methods.appointments(i).call();\n      loadedAppointments.push(appointment);\n    }\n    setAppointments(loadedAppointments);\n  };\n\n  const getAvailableAppointments = () => {\n    const availableAppointments = appointments.filter(\n      (appointment) => !appointment.booked && appointment.date > Date.now() / 1000\n    );\n    return availableAppointments;\n  };\n\n  return (\n    <div>\n      <input\n        type=\"datetime-local\"\n        value={appointmentDate}\n        onChange={(e) => setAppointmentDate(e.target.value)}\n      />\n      <button onClick={bookAppointment}>Book Appointment</button>\n      <button onClick={loadAppointments}>Load Appointments</button>\n      <ul>\n        {getAvailableAppointments().map((appointment, index) => (\n          <li key={index}>\n            {`Patient: ${appointment.patient}`}\n            {`Appointment Date: ${new Date(\n              appointment.date * 1000\n            ).toLocaleString()}`}\n            {appointment.booked ? (\n              <span>Appointment Booked</span>\n            ) : (\n              <span>Available</span>\n            )}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\n\nexport default App;*/\nimport React, { useState, useEffect } from 'react';\nimport Web3 from 'web3';\nimport Healthcare from './contracts/Healthcare.json';\n\nfunction App() {\n  const [account, setAccount] = useState('');\n  const [patient, setPatient] = useState({});\n  const [medicalRecords, setMedicalRecords] = useState([]);\n\n  useEffect(() => {\n    loadBlockchainData();\n  }, []);\n\n  async function loadBlockchainData() {\n    const web3 = new Web3(Web3.givenProvider || 'http://localhost:7545');\n    const networkId = await web3.eth.net.getId();\n    const deployedNetwork = Healthcare.networks[networkId];\n    const contract = new web3.eth.Contract(\n      Healthcare.abi,\n      deployedNetwork && deployedNetwork.address,\n    );\n    const accounts = await web3.eth.getAccounts();\n    setAccount(accounts[0]);\n    const patient = await contract.methods.patients(accounts[0]).call();\n    setPatient(patient);\n    const medicalRecords = await contract.methods.getMedicalRecords(accounts[0]).call();\n    setMedicalRecords(medicalRecords);\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>Medical Records</h1>\n      <p><strong>Patient Name:</strong> {patient.name}</p>\n      <p><strong>Age:</strong> {patient.age}</p>\n      <p><strong>Gender:</strong> {patient.gender}</p>\n      <h2>Medical Records</h2>\n      <ul>\n        {medicalRecords.map((record, index) => (\n          <li key={index}>{record}</li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,UAAU,MAAM,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,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"},"metadata":{},"sourceType":"module","externalDependencies":[]}